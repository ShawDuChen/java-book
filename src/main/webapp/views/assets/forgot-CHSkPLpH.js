import{u as x}from"./index-DQH8EVtg.js";import{v as b}from"./auth-BhiN-M-P.js";import{d as w,a as i,w as y,u as C,c as k,e,f as a,P as B,C as n,g as D,h as R,l as q,A as E}from"./index-CS0l65Ue.js";const N={class:"container flex-center"},M=w({__name:"forgot",setup(P){const{bool:c,toggle:s}=x(),u=i(),o=i({username:"",phone:""}),p=()=>{var l;(l=u.value)==null||l.validate(t=>{t&&_()})},f=B(),_=()=>{s(),b(o.value).then(({data:l})=>{s(),E.success("验证已通过"),f.push(`/reset?id=${l.id}&username=${l.username}`)}).finally(()=>s())};return(l,t)=>{const m=n("el-input"),d=n("el-form-item"),v=n("el-button"),h=n("el-form"),g=n("el-card"),V=D("loading");return y((R(),k("div",N,[e(g,{header:"找回密码",style:{width:"420px"}},{default:a(()=>[e(h,{ref_key:"formRef",ref:u,model:o.value,"label-position":"top"},{default:a(()=>[e(d,{prop:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"}]},{default:a(()=>[e(m,{modelValue:o.value.username,"onUpdate:modelValue":t[0]||(t[0]=r=>o.value.username=r),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(d,{prop:"phone",label:"手机号",rules:[{required:!0,message:"请输入手机号"}]},{default:a(()=>[e(m,{modelValue:o.value.phone,"onUpdate:modelValue":t[1]||(t[1]=r=>o.value.phone=r),placeholder:"请输入预留的手机号",maxlength:11},null,8,["modelValue"])]),_:1}),e(v,{type:"primary",class:"w-full",onClick:p},{default:a(()=>[q("找回密码")]),_:1})]),_:1},8,["model"])]),_:1})])),[[V,C(c)]])}}});export{M as default};
