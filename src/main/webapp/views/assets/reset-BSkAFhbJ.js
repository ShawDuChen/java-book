import{u as y}from"./index-7XaKpovQ.js";import{a as h}from"./auth-CqcSMgfa.js";import{d as x,r as i,o as k,w as q,u as B,c as C,b as o,e as t,J as R,G as D,B as l,f as E,g as M,k as N,z as P}from"./index-CTdGs5XT.js";const U={class:"container flex-center"},J=x({__name:"reset",setup($){const{bool:c,toggle:r}=y(),u=i(),e=i({id:0,username:"",password:""}),p=()=>{var s;(s=u.value)==null||s.validate(a=>{a&&v()})},f=R(),_=D(),v=()=>{r(),h(e.value).then(()=>{r(),P.success("修改成功~"),_.push("/loign")}).finally(()=>r())};return k(()=>{const s=f.query;e.value.id=parseInt(`${s.id}`),e.value.username=`${s.username}`}),(s,a)=>{const d=l("el-input"),m=l("el-form-item"),w=l("el-button"),g=l("el-form"),b=l("el-card"),V=E("loading");return q((M(),C("div",U,[o(b,{header:"重置密码",style:{width:"420px"}},{default:t(()=>[o(g,{ref_key:"formRef",ref:u,model:e.value,"label-position":"top"},{default:t(()=>[o(m,{prop:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"}]},{default:t(()=>[o(d,{modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.username=n),disabled:"",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(m,{prop:"password",label:"新密码",rules:[{required:!0,message:"请输入新密码"}]},{default:t(()=>[o(d,{modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.password=n),placeholder:"请输入新密码"},null,8,["modelValue"])]),_:1}),o(w,{type:"primary",class:"w-full",onClick:p},{default:t(()=>[N("修改密码")]),_:1})]),_:1},8,["model"])]),_:1})])),[[V,B(c)]])}}});export{J as default};
