import{f as m}from"./shopOrder-DPpOEaSa.js";import{u as b}from"./index-BJJCNVtC.js";import{d as h,a as x,o as w,w as v,u as a,c as C,e as t,f as l,C as y,g as D,h as T,n,l as d,t as c,q as A}from"./index-a7oZ5LST.js";import{_ as B}from"./order-product.vue_vue_type_script_setup_true_lang-5harAGAA.js";const q=h({__name:"index",setup(E){const p=x([]),{bool:_}=b(),f=()=>{m().then(r=>{p.value=r.list||[]})},g=r=>{var i;return((i=r.carts)==null?void 0:i.reduce((o,s)=>{var e;return o+=o+(((e=s.product)==null?void 0:e.price)||0)*s.count,o},0))??0};return w(()=>{f()}),(r,i)=>{const o=y("el-tag"),s=D("loading");return v((T(),C("div",null,[t(a(A),{data:p.value,border:""},{default:l(()=>[t(a(n),{prop:"id",label:"订单ID",align:"center",width:"80px"}),t(a(n),{prop:"userId",label:"下单用户",align:"center"},{default:l(({row:e})=>{var u;return[d(c((u=e.user)==null?void 0:u.username),1)]}),_:1}),t(a(n),{prop:"carts",label:"购买商品",align:"center"},{default:l(({row:e})=>[t(a(B),{data:e.carts},null,8,["data"])]),_:1}),t(a(n),{prop:"total",label:"总价",align:"center",width:"120px"},{default:l(({row:e})=>[t(o,{type:"danger"},{default:l(()=>[d("￥"+c(g(e)),1)]),_:2},1024)]),_:1}),t(a(n),{prop:"paid",label:"已付款",align:"center",width:"80px"},{default:l(({row:e})=>[t(o,{type:e.paid?"success":"danger"},{default:l(()=>[d(c(e.paid?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),t(a(n),{prop:"createdAt",label:"创建时间",align:"center",width:"180px"}),t(a(n),{prop:"updatedAt",label:"更新时间",align:"center",width:"180px"})]),_:1},8,["data"])])),[[s,a(_)]])}}});export{q as default};
