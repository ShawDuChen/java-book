import{f as C}from"./shopOrder-D9heZ3cw.js";import{u as w}from"./index-7XaKpovQ.js";import{d as B,N as D,r as A,o as T,w as E,u as a,c as g,b as t,e as o,G as N,B as m,f as $,g as d,m as s,k as p,t as u,D as V,p as F}from"./index-CTdGs5XT.js";import{_ as G}from"./order-product.vue_vue_type_script_setup_true_lang-BpJMIMM9.js";const I={key:0},j=B({__name:"index",setup(L){const{bool:b,toggle:_}=w(),h=D(),f=A([]),x=()=>{_(),C(h.id).then(l=>{f.value=l.list||[]}).finally(()=>_())},y=l=>{var i;return((i=l.carts)==null?void 0:i.reduce((n,r)=>{var c;return n+=n+(((c=r.product)==null?void 0:c.price)||0)*r.count,n},0).toFixed(2))??0},k=N(),v=l=>{k.push(`/c/pay?id=${l.id}`)};return T(()=>{x()}),(l,i)=>{const n=m("el-tag"),r=m("el-button"),c=$("loading");return E((d(),g("div",null,[t(a(F),{data:f.value,border:""},{default:o(()=>[t(a(s),{prop:"id",label:"订单ID",align:"center",width:"80px"}),t(a(s),{prop:"carts",label:"购买商品",align:"center"},{default:o(({row:e})=>[t(a(G),{data:e.carts},null,8,["data"])]),_:1}),t(a(s),{prop:"total",label:"总价",align:"center",width:"120px"},{default:o(({row:e})=>[t(n,{type:"danger"},{default:o(()=>[p("￥"+u(y(e)),1)]),_:2},1024)]),_:1}),t(a(s),{prop:"paid",label:"已付款",align:"center",width:"80px"},{default:o(({row:e})=>[t(n,{type:e.paid?"success":"danger"},{default:o(()=>[p(u(e.paid?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),t(a(s),{prop:"createdAt",label:"订单创建时间",align:"center",width:"180px"}),t(a(s),{prop:"updatedAt",label:"付款时间",align:"center",width:"180px"},{default:o(({row:e})=>[e.paid?(d(),g("span",I,u(e.updatedAt),1)):(d(),V(r,{key:1,type:"success",link:"",onClick:M=>v(e)},{default:o(()=>[p("去付款")]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])])),[[c,a(b)]])}}});export{j as default};
