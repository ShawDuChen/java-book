import{f as C}from"./shopOrder-judJreVV.js";import{u as w}from"./index-DQH8EVtg.js";import{d as A,J as B,a as D,o as T,w as E,u as a,c as g,e as t,f as l,P as $,C as m,g as N,h as d,n as s,l as p,t as u,G as P,q as V}from"./index-CS0l65Ue.js";import{_ as q}from"./order-product.vue_vue_type_script_setup_true_lang-BNa4SP9c.js";const G={key:0},U=A({__name:"index",setup(I){const{bool:h,toggle:_}=w(),b=B(),f=D([]),x=()=>{_(),C(b.id).then(o=>{f.value=o.list||[]}).finally(()=>_())},y=o=>{var i;return((i=o.carts)==null?void 0:i.reduce((n,c)=>{var r;return n+=n+(((r=c.product)==null?void 0:r.price)||0)*c.count,n},0))??0},k=$(),v=o=>{k.push(`/c/pay?id=${o.id}`)};return T(()=>{x()}),(o,i)=>{const n=m("el-tag"),c=m("el-button"),r=N("loading");return E((d(),g("div",null,[t(a(V),{data:f.value,border:""},{default:l(()=>[t(a(s),{prop:"id",label:"订单ID",align:"center",width:"80px"}),t(a(s),{prop:"carts",label:"购买商品",align:"center"},{default:l(({row:e})=>[t(a(q),{data:e.carts},null,8,["data"])]),_:1}),t(a(s),{prop:"total",label:"总价",align:"center",width:"120px"},{default:l(({row:e})=>[t(n,{type:"danger"},{default:l(()=>[p("￥"+u(y(e)),1)]),_:2},1024)]),_:1}),t(a(s),{prop:"paid",label:"已付款",align:"center",width:"80px"},{default:l(({row:e})=>[t(n,{type:e.paid?"success":"danger"},{default:l(()=>[p(u(e.paid?"是":"否"),1)]),_:2},1032,["type"])]),_:1}),t(a(s),{prop:"createdAt",label:"订单创建时间",align:"center",width:"180px"}),t(a(s),{prop:"updatedAt",label:"付款时间",align:"center",width:"180px"},{default:l(({row:e})=>[e.paid?(d(),g("span",G,u(e.updatedAt),1)):(d(),P(c,{key:1,type:"success",link:"",onClick:J=>v(e)},{default:l(()=>[p("去付款")]),_:2},1032,["onClick"]))]),_:1})]),_:1},8,["data"])])),[[r,a(h)]])}}});export{U as default};
