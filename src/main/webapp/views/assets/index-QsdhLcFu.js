import{u as B}from"./index-7XaKpovQ.js";import{f as F}from"./category-0uh354pA.js";import{f as L,a as D,b as N}from"./product-C__u8Dff.js";import{_ as $}from"./product-card.vue_vue_type_script_setup_true_lang-w8wZwdhf.js";import{d as A,r as g,A as q,a as H,o as M,w as O,u as e,c as p,b as a,e as t,D as i,B as T,f as U,g as n,E as c,n as y,k as m,q as K,F as v,C as E,h as P,l as R,P as w,K as S,O as j,s as z,L as G}from"./index-CTdGs5XT.js";const ee=A({__name:"index",setup(J){const{bool:k,toggle:r}=B(),f=g([]),b=async()=>{const s=await F();f.value=s.list||[]},C=q(()=>f.value.reduce((s,o)=>(s[`${o.id}`]=o.name,s),{})),u=H({}),d=g([]),_=async()=>{r();const s=await L(u).finally(()=>r());d.value=s.list||[]},h=async()=>{r();const s=await D().finally(()=>r());d.value=s.list||[]},x=async()=>{r();const s=await N().finally(()=>r());d.value=s.list||[]};return M(()=>{b(),_()}),(s,o)=>{const V=T("el-button"),I=U("loading");return O((n(),p("div",null,[a(e(R),{inline:""},{default:t(()=>[a(e(c),null,{default:t(()=>[a(e(y),{type:"danger",class:"pointer",onClick:h},{default:t(()=>[m("热门商品")]),_:1})]),_:1}),a(e(c),null,{default:t(()=>[a(e(y),{type:"danger",class:"pointer",onClick:x},{default:t(()=>[m("最新商品")]),_:1})]),_:1}),a(e(c),{prop:"categoryId"},{default:t(()=>[a(e(K),{modelValue:u.categoryId,"onUpdate:modelValue":o[0]||(o[0]=l=>u.categoryId=l),placeholder:"商品分类",style:{width:"200px"},clearable:"",filterable:""},{default:t(()=>[(n(!0),p(v,null,E(f.value,l=>(n(),i(e(z),{key:l.id,label:`${l.parentId?C.value[l.parentId]+"-"+l.name:l.name}`,value:l.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(e(c),{prop:"name"},{default:t(()=>[a(e(P),{modelValue:u.name,"onUpdate:modelValue":o[1]||(o[1]=l=>u.name=l),placeholder:"商品名称",clearable:""},null,8,["modelValue"])]),_:1}),a(e(c),null,{default:t(()=>[a(V,{type:"primary",onClick:_},{default:t(()=>[m("查询")]),_:1})]),_:1})]),_:1}),a(e(w)),d.value.length?(n(),i(e(S),{key:0,class:"w-full"},{default:t(()=>[(n(!0),p(v,null,E(d.value,l=>(n(),i(e(G),{key:l.id,xl:3,lg:4,md:6,sm:8,xs:12,span:24},{default:t(()=>[a(e($),{data:l},null,8,["data"])]),_:2},1024))),128))]),_:1})):(n(),i(e(j),{key:1})),a(e(w))])),[[I,e(k)]])}}});export{ee as default};
