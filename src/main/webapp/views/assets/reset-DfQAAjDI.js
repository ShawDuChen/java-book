import{u as h}from"./index-BJJCNVtC.js";import{a as y}from"./auth-BFN8cO7y.js";import{d as x,a as i,o as C,w as k,u as q,c as R,e as o,f as l,Z as B,O as D,C as t,g as E,h as M,l as N,A as P}from"./index-a7oZ5LST.js";const U={class:"container flex-center"},T=x({__name:"reset",setup($){const{bool:c,toggle:r}=h(),u=i(),e=i({id:0,username:"",password:""}),p=()=>{var s;(s=u.value)==null||s.validate(a=>{a&&v()})},f=B(),_=D(),v=()=>{r(),y(e.value).then(()=>{r(),P.success("修改成功~"),_.push("/loign")}).finally(()=>r())};return C(()=>{const s=f.query;e.value.id=parseInt(`${s.id}`),e.value.username=`${s.username}`}),(s,a)=>{const d=t("el-input"),m=t("el-form-item"),w=t("el-button"),g=t("el-form"),V=t("el-card"),b=E("loading");return k((M(),R("div",U,[o(V,{header:"重置密码",style:{width:"420px"}},{default:l(()=>[o(g,{ref_key:"formRef",ref:u,model:e.value,"label-position":"top"},{default:l(()=>[o(m,{prop:"username",label:"用户名",rules:[{required:!0,message:"请输入用户名"}]},{default:l(()=>[o(d,{modelValue:e.value.username,"onUpdate:modelValue":a[0]||(a[0]=n=>e.value.username=n),disabled:"",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),o(m,{prop:"password",label:"新密码",rules:[{required:!0,message:"请输入新密码"}]},{default:l(()=>[o(d,{modelValue:e.value.password,"onUpdate:modelValue":a[1]||(a[1]=n=>e.value.password=n),placeholder:"请输入新密码"},null,8,["modelValue"])]),_:1}),o(w,{type:"primary",class:"w-full",onClick:p},{default:l(()=>[N("修改密码")]),_:1})]),_:1},8,["model"])]),_:1})])),[[b,q(c)]])}}});export{T as default};
